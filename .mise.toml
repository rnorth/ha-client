[tools]
go = "1.25"
goreleaser = "2.13.3"
golangci-lint = "2.10.1"

[tasks.build]
description = "Build the ha-client binary"
run = "go build -ldflags='-s -w' -o ha-client ."

[tasks.test]
description = "Run all tests"
run = "go test ./... -v"

[tasks.clean]
description = "Remove build artifacts"
run = "rm -f ha-client"

[tasks.install]
description = "Build and install to /usr/local/bin"
depends = ["build"]
run = "cp ha-client /usr/local/bin/ha-client"

[tasks.release-snapshot]
description = "Build a snapshot release locally (no publish)"
run = "goreleaser release --snapshot --clean"
